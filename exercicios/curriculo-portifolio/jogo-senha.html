<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jogo da Senha - Rafael</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <header>
        <div class="header-content">
            <h1>Jogo da Senha</h1>
            <div class="social-icons">
                <a href="jogo-senha.html" class="game-link">Jogo da Senha</a>
                <a href="https://github.com/seu-github" target="_blank"><i class="fab fa-github"></i></a>
                <a href="https://linkedin.com/in/seu-linkedin" target="_blank"><i class="fab fa-linkedin"></i></a>
            </div>
        </div>
        <nav>
            <ul>
                <li><a href="index.html">Home</a></li>
                <li><a href="curriculo.html">Projetos</a></li>
            </ul>
        </nav>
    </header>

    <main>
        <section class="game-section">
            <div class="game-container">
                <h2>Jogo da Senha</h2>
                <p class="game-instructions">
                    Tente adivinhar a senha de 4 dígitos! Cada tentativa mostrará quantos números estão corretos 
                    e quantos estão na posição correta. Você tem 10 tentativas para acertar.
                </p>
                <div class="game-input">
                    <input type="number" id="guess" min="0" max="9999" placeholder="Digite sua tentativa">
                    <button onclick="checkGuess()" id="try-button">Tentar</button>
                    <button onclick="resetGame()" id="reset-button" class="reset-button">Desistir</button>
                </div>
                <div class="game-stats">
                    <p>Tentativas restantes: <span id="attempts-left">10</span></p>
                </div>
                <div class="game-history" id="history">
                    <!-- Histórico de tentativas será mostrado aqui -->
                </div>
            </div>
        </section>
    </main>

    <script>
        // Gera uma senha aleatória de 4 dígitos
        let password = Math.floor(1000 + Math.random() * 9000);
        let attempts = 0;
        const maxAttempts = 10;
        let previousGuesses = [];

        function checkGuess() {
            const guessInput = document.getElementById('guess');
            const guess = parseInt(guessInput.value);
            const history = document.getElementById('history');
            const attemptsLeft = document.getElementById('attempts-left');

            if (isNaN(guess) || guess < 1000 || guess > 9999) {
                alert('Por favor, digite um número de 4 dígitos!');
                return;
            }

            // Verifica se a tentativa é duplicada
            if (previousGuesses.includes(guess)) {
                alert('Você já tentou esse número! Tente outro.');
                return;
            }

            // Adiciona a tentativa atual à lista de tentativas anteriores
            previousGuesses.push(guess);

            attempts++;
            attemptsLeft.textContent = maxAttempts - attempts;

            if (guess === password) {
                history.innerHTML += `<p class="success">Parabéns! Você acertou a senha em ${attempts} tentativas!</p>`;
                disableGame();
            } else {
                const correctNumbers = countCorrectNumbers(guess);
                const correctPositions = countCorrectPositions(guess);
                
                history.innerHTML += `<p>Tentativa ${attempts}: ${guess} - ${correctNumbers} números corretos, ${correctPositions} na posição correta</p>`;
                
                if (attempts >= maxAttempts) {
                    history.innerHTML += `<p class="failure">Game Over! A senha era ${password}</p>`;
                    disableGame();
                }
            }

            guessInput.value = '';
        }

        function countCorrectNumbers(guess) {
            const guessStr = guess.toString();
            const passwordStr = password.toString();
            let count = 0;

            for (let i = 0; i < 4; i++) {
                if (passwordStr.includes(guessStr[i])) {
                    count++;
                }
            }

            return count;
        }

        function countCorrectPositions(guess) {
            const guessStr = guess.toString();
            const passwordStr = password.toString();
            let count = 0;

            for (let i = 0; i < 4; i++) {
                if (guessStr[i] === passwordStr[i]) {
                    count++;
                }
            }

            return count;
        }

        function disableGame() {
            document.getElementById('guess').disabled = true;
            document.getElementById('try-button').disabled = true;
        }

        function resetGame() {
            // Gera uma nova senha
            password = Math.floor(1000 + Math.random() * 9000);
            
            // Reseta as variáveis
            attempts = 0;
            previousGuesses = [];
            
            // Limpa o histórico
            document.getElementById('history').innerHTML = '';
            
            // Reseta o contador de tentativas
            document.getElementById('attempts-left').textContent = maxAttempts;
            
            // Habilita os controles
            document.getElementById('guess').disabled = false;
            document.getElementById('try-button').disabled = false;
            
            // Limpa o campo de entrada
            document.getElementById('guess').value = '';
            
            // Adiciona mensagem de reset
            document.getElementById('history').innerHTML = '<p class="info">Jogo reiniciado! Tente adivinhar a nova senha.</p>';
        }
    </script>
</body>
</html> 